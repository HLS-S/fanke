"use strict";function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,n){for(var e=0;e<n.length;e++){var a=n[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,n,e){return n&&_defineProperties(t.prototype,n),e&&_defineProperties(t,e),t}var Cart=function(){function t(){_classCallCheck(this,t),this.addEvent()}return _createClass(t,[{key:"addEvent",value:function(){var t=$.cookie("carts")?$.cookie("carts"):"";if(t){var n,e=convertStrToObj(t),a='\n            <ul class="cartHead">\n            <li>缩略图</li>\n            <li>品名</li>\n            <li>单价</li>\n            <li>数量</li>\n            <li>小计</li>\n            <li>操作</li>\n        </ul>\n    ';for(n in e){var r=e[n];console.log(r),a+='\n                <li><img src="'.concat(r.img,'" /></li>\n                <li>测试</li>\n                <li>').concat(r.price,'</li>\n                <li class="num">\n                    <a href="javascript:;" class="minus">-</a>\n                    <input type="text" name="" id="" value="').concat(r.num,'" />\n                    <a href="javascript:;" class="plus">+</a>\n                </li>\n                <li class="total">').concat(r.price*r.num,'</li>\n                <li><a href="javascript:;" class="del">删除</a></li>'),parseInt(r.price),parseInt(r.num)}$(".goodInfo").html(a)}else $(".blank").css("display","block");$(".minus").on("click",function(){var t=$(this).parent().parent().attr("data-good-id"),n=$.cookie("carts")?$.cookie("carts"):"",e=convertStrToObj(n);1<e[t].num&&e[t].num--,$.cookie("carts",JSON.stringify(e),{expires:7,path:"/"});var a,r=0;for(a in e){var i=e[a];r+=parseInt(i.price)*parseInt(i.num)}$(this).next().html(e[t].num),$(this).parent().next().html(e[t].num*e[t].price),$("#total").html(r)}),$(".plus").on("click",function(){var t=$(this).parent().parent().attr("data-good-id"),n=$.cookie("carts")?$.cookie("carts"):"",e=convertStrToObj(n);e[t].num++,$.cookie("carts",JSON.stringify(e),{expires:7,path:"/"});var a,r=0;for(a in e){var i=e[a];r+=parseInt(i.price)*parseInt(i.num)}$(this).prev().html(e[t].num),$(this).parent().next().html(e[t].num*e[t].price),$("#total").html(r)}),$(".del").on("click",function(){var t=$(this).parent().parent().attr("data-good-id"),n=$.cookie("carts")?$.cookie("carts"):"",e=convertStrToObj(n);delete e[t],$.cookie("carts",JSON.stringify(e),{expires:7,path:"/"});var a,r=0;for(a in e){var i=e[a];r+=parseInt(i.price)*parseInt(i.num)}$(this).parent().parent().remove(),$("#total").html(r)})}}]),t}();new Cart;